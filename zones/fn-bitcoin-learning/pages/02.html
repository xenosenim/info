<!doctype html>
<html>
<head>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'>
  <meta name='viewport' content='width=device-width, user-scalable=no'>
  <title>Bitcoin Learning</title>
  <link rel='icon' type='image/x-icon' href='../../../favicon.ico?v=2'>
  <link rel='icon' type='image/png' sizes='32x32'   href='../../../images/favicons/favicon-032.png?v=2'>
  <link rel='icon' type='image/png' sizes='128x128' href='../../../images/favicons/favicon-128.png?v=2'>
  <link rel='icon' type='image/png' sizes='180x180' href='../../../images/favicons/favicon-180.png?v=2'>
  <link rel='icon' type='image/png' sizes='192x192' href='../../../images/favicons/favicon-192.png?v=2'>
  <link rel='icon' type='image/png' sizes='512x512' href='../../../images/favicons/favicon-512.png?v=2'>
  <link rel='stylesheet' type='text/css' media='screen' href='../../../styles/commons.css'>
  <link rel='stylesheet' type='text/css' media='screen' href='../../../styles/book.css'>
  <link rel='stylesheet' type='text/css' media='screen' href='../styles/local.css'>
  <script type='text/javascript' src='../../../scripts/commons.js'></script>
  <script type='text/javascript' src='../../../scripts/book.js'></script>
  <script type='text/javascript' src='../scripts/local.js'></script>
</head>
<body onload='fncGetDivState(); fncGetScrollPosition();'>

<div id='idPanel'>
<div id='idTopbar'>
  <div id='idTopbarNavigation'>
    <a href='../../../index.html'><span class='clNavHome'></span></a>
    <a href='./01.html'><span class='clNavLeft'><span></a>
    <a href='../index.html'><span class='clNavUp'><span></a>
    <a href='./03.html'><span class='clNavRight'><span></a>
  </div>
</div>

<div id='idContent'>

<h1>02.How does Bitcoin work?</h1>

<h2>What is Bitcoin?</h2>
<p>Bitcoin is just a <strong>computer program</strong>. You can download it and run it on your computer.</p>

<p>When you run the program, it will connect to other computers who are also running this program, and they will <em>start sharing a file</em> with you. This file is called the <strong>blockchain</strong>, and it is basically a big list of <em>transactions</em>.</p>
<p><a target='_blank' href='../images/02.1_2_network.png'><img class='clImageThumb' src='../images/02.1_2_network.png'></a><br><br></p>
<p>When a new transaction enters the network, it gets <em>relayed</em> from computer to computer until everyone has a copy of the transaction. At roughly 10 minute intervals, a random computer (node)
 on the network will add the latest transactions they have received on
to the blockchain, and share the updates with everyone else on the
network.</p>
<p><a target='_blank' href='../images/02.1_3_network_transactions.png'><img class='clImageThumb' src='../images/02.1_3_network_transactions.png'></a><br><br></p>
<p>As a result, the Bitcoin program creates a large <em>network of computers</em> that communicate with each other to <strong>share a file and update it with new transactions</strong>.</p>
<h2>What problem does Bitcoin solve?</h2>
<p>It was possible to relay transactions across a network of computers before Bitcoin. However, the problem is that <strong>you can insert conflicting transactions in to a network of computers</strong>. For example, you could create two separate transactions that spend the <em>same</em> digital coin, and send both of these transactions in to the network at the same time.</p>
<p>This is known as a “<strong>double-spend</strong>”.</p>
<p><a target='_blank' href='../images/02.2_1_why_double_spend.png'><img class='clImageThumb' src='../images/02.2_1_why_double_spend.png'></a><br><br></p>
<p>So if you’re creating an electronic payment system without a central
point of control, you have the problem of figuring out which of these
transactions came “first”, and this is a difficult thing to do when you
have a network of computers all acting independently. Some computers
will receive the <span class="bold green">green</span> transaction first, and some computers will receive the <span class="bold red">red</span> transaction first.</p>
<p>Who’s to <em>decide</em> which one came “first” and should be the only one written to the file?</p>
<p>Bitcoin solves this problem by forcing nodes to keep all the transactions they receive <em>in memory</em> before writing them to a file. Then, at 10-minute intervals, a <em>random node</em> on the network will add the transactions from their memory on to the file.</p>
<p><a target='_blank' href='../images/02.2_2_why_mining.png'><img class='clImageThumb' src='../images/02.2_2_why_mining.png'></a><br><br></p>
<p>This updated file is then shared with the network, and nodes will
accept the transactions in the updated file as “correct”, removing any
conflicting transactions from their memory. As a result, no double-spend
 transactions will ever be written to the file, and all nodes can update
 their files in agreement with one another.</p>
<p><a target='_blank' href='../images/02.2_3_why_solved.png'><img class='clImageThumb' src='../images/02.2_3_why_solved.png'></a><br><br></p>
<p>The process of adding transactions on to the file is called <strong>mining</strong>, and it is basically a network-wide <em>competition</em> that cannot be controlled by a single node on the network.</p>
<h2>How does mining work?</h2>

<p>To start with, each node stores the latest transactions they have received in their <strong>memory pool</strong>, which is just temporary memory on their computer. Any node can then try and <em>mine</em> the transactions from their memory pool on to the file (the <strong>blockchain</strong>).</p>
<p>To do this, a node will gather the transactions from its memory pool in to a container called a <strong>block</strong>, and then use <em>processing power</em> to try and add this block of transactions on to the blockchain.</p>
<p><a target='_blank' href='../images/02.3_1_mining.png'><img class='clImageThumb' src='../images/02.3_1_mining.png'></a><br><br></p>
<p>So where does this processing power come in? Well, to add this block
to the blockchain, you must feed your block of transactions in to
something called a <strong>hash function</strong>.
 A hash function is basically a mini computer program that will take in
any amount of data, scramble it, and spit out a completely random (yet
unique) number.</p>
<p><a target='_blank' href='../images/02.3_2_hash_function.png'><img class='clImageThumb' src='../images/02.3_2_hash_function.png'></a><br><br></p>
<p>For your block to be successfully added on to the blockchain, this number (the <strong>block hash</strong>) must be below the <strong>target</strong>, which is a threshold number that everyone on the network agrees upon.</p>
<p><a target='_blank' href='../images/02.3_3_mining_block_hash.png'><img class='clImageThumb' src='../images/02.3_3_mining_block_hash.png'></a><br><br></p>
<p>If your resulting <strong>block hash</strong> is <em>not</em> below
the target, you can make a small adjustment to the data inside the block
 and put it through the hash function again. This will produce a <em>completely different</em> number that will hopefully be below the target. If not, you adjust the block and try again.</p>
<p><a target='_blank' href='../images/02.3_4_mining_nonce.png'><img class='clImageThumb' src='../images/02.3_4_mining_nonce.png'></a><br><br></p>
<p>So in summary, the process of mining uses processing power to perform
 hash calculations as fast as you can to try and be the first computer
on the network to get a block hash below the target. If you’re
successful, you can add your block of transactions on to the blockchain
and share it with the rest of the network.</p>
<p class="note text">
<strong>NOTE:</strong> Although it is still possible for anyone to try
and mine blocks, it is no longer competitive to do so on a home
computer. There is now specialized hardware that has been designed to
perform hash calculations as fast (and as efficiently) as possible,
which means that mining is now mostly performed by those with access to
specialized hardware and cheap electricity.
</p>
<h3>Where do bitcoins come from?</h3>
<p>As an incentive to use processing power to try and add new blocks of
transactions on to the blockchain, each new block makes available a
fixed amount of bitcoins that did not previously exist. Therefore, if
you are able to successfully mine a block, you are able to “send”
yourself these new bitcoins as a reward for your effort.</p>
<p><a target='_blank' href='../images/02.3_5_mining_block_reward.png'><img class='clImageThumb' src='../images/02.3_5_mining_block_reward.png'></a><br><br></p>
<p>This reward of new bitcoins is called the <strong>block reward</strong>, and is the reason why the process is called “mining”.</p>

<h2>Why is the file called the “blockchain”?</h2>
<p>As we have seen, transactions are not added to the file individually –
 they are collected together and added in blocks. Each of these new
blocks <em>builds on top of</em> an existing one, and so the file is made up of a <em>chain</em> of <strong>blocks</strong>; hence, <strong>blockchain</strong>.</p>
<p><a target='_blank' href='../images/02.4_1_blockchain.png'><img class='clImageThumb' src='../images/02.4_1_blockchain.png'></a><br><br></p>
<p>Furthermore, every node on the network <strong>will always adopt the longest chain of blocks they receive</strong>
 as the “official” version of the blockchain. This means that miners
will always try to build on top of the “tip” of the longest known chain
of blocks, as any blocks that are not part of the longest chain will not
 be considered valid by other nodes.</p>
<p><a target='_blank' href='../images/02.4_2_blockchain_longest.png'><img class='clImageThumb' src='../images/02.4_2_blockchain_longest.png'></a><br><br></p>
<p>Therefore, if someone wanted to rewrite the history of transactions,
they would need to rebuild a longer chain of blocks to create a new
longest chain for other nodes to adopt. However, to achieve this, a
single miner would need to have more computer processing power than the
rest of the network combined.</p>
<p><a target='_blank' href='../images/02.4_3_blockchain_hashpower.png'><img class='clImageThumb' src='../images/02.4_3_blockchain_hashpower.png'></a><br><br></p>
<p>As a result, the combined effort of the network makes it difficult
for any individual to “outrun” the network and rewrite the blockchain.</p>
<h2>How do transactions work?</h2>
<p>You can think of the blockchain as being a storage facility for <em>safe deposit boxes</em>, which we call <strong>outputs</strong>. These outputs are just containers that hold various amounts of bitcoin.</p>
<p><a target='_blank' href='../images/02.5_1_outputs.png'><img class='clImageThumb' src='../images/02.5_1_outputs.png'></a><br><br></p>
<p>When you make a bitcoin <strong>transaction</strong>, you select some outputs and <em>unlock</em> them, then create new outputs and put new locks on them.</p>
<p><a target='_blank' href='../images/02.5_2_transaction.png'><img class='clImageThumb' src='../images/02.5_2_transaction.png'></a><br><br></p>
<p>So when you “send” someone bitcoins, you are actually placing an
amount of bitcoins in to a new safe deposit box, and putting a lock on
it that only the person you are “sending” the bitcoins to can unlock.</p>
<p>For example, if I wanted to send you some bitcoins, I would select
some outputs from the blockchain that I can unlock, and create a new
output from them that only <em>you</em> can unlock. Also, if I didn’t
want to send you all of the bitcoins that I had unlocked, I would create
 an extra output as my “change” and lock it to myself.</p>
<p><a target='_blank' href='../images/02.5_3_transaction_change.png'><img class='clImageThumb' src='../images/02.5_3_transaction_change.png'></a><br><br></p>
<p>Moving forward, if you want to send your bitcoins to someone else,
you would repeat the process of selecting existing outputs (that you can
 unlock) and creating new outputs from them. As a result, bitcoin
transactions form a graph-like structure, where the movement of bitcoins
 is connected by a series of transactions.</p>
<p><a target='_blank' href='../images/02.5_4_transaction_graph.png'><img class='clImageThumb' src='../images/02.5_4_transaction_graph.png'></a><br><br></p>
<p>Lastly, when a transaction gets mined on to the blockchain, the
outputs that were used up (spent) in the transaction cannot be used in
another transaction, and the newly created outputs will be available to
be moved on in a future transaction.</p>
<p><a target='_blank' href='../images/02.5_5_transaction_blockchain_outputs.png'><img class='clImageThumb' src='../images/02.5_5_transaction_blockchain_outputs.png'></a><br><br></p>
<h2>How do you own bitcoins?</h2>
<p>To be able to “receive” bitcoins, you need to have your own set of <strong>keys</strong>. This set of keys is like your <em>account number</em> and <em>password</em>, except in Bitcoin they’re called your <strong>public key</strong> and your <strong>private key</strong>.</p>
<p>For example, if I wanted to send you some bitcoins, you would first need to give me your <strong>public key</strong>. When I create the transaction, I would place your public key <em>inside</em> the lock on the output (the safe deposit box). You would then use your <strong>private key</strong> to unlock this output when you want to send the bitcoins on to someone else.</p>
<p><a target='_blank' href='../images/02.6_1_keys.png'><img class='clImageThumb' src='../images/02.6_1_keys.png'></a><br><br></p>
<p>So where can you get a public and private key? Well, with the help of <strong>cryptography</strong> you can actually <em>generate them yourself</em>.</p>
<p>In short, your private key is just a large <em>random number</em>, and your public key is a number <em>calculated from</em>
 this private key. But the clever part is; you can give your public key
to someone else, but they cannot work out the private key from it.</p>
<p><a target='_blank' href='../images/02.6_2_keys_generate.png'><img class='clImageThumb' src='../images/02.6_2_keys_generate.png'></a><br><br></p>
<p>Now, when you want to unlock bitcoins that are assigned to your public key, you use your private key to create what’s called a <strong>digital signature</strong>. This digital signature proves that you are the owner of the public key (and therefore can unlock the bitcoins), <em>without having to reveal your private key</em>.
 This digital signature is also only valid for the transaction it was
created for, so it cannot be used to unlock other bitcoins locked to the
 same public key.</p>
<p><a target='_blank' href='../images/02.6_3_keys_digital_signature.png'><img class='clImageThumb' src='../images/02.6_3_keys_digital_signature.png'></a><br><br></p>
<p>This system is known as “Public Key Cryptography”, and has been available since 1978<sup>1</sup>.
 Bitcoin makes use of this system to allow anyone to create keys for
sending and receiving bitcoins securely, without the need of a central
authority to issue accounts and passwords.</p>
<h2>Putting it all together.</h2>
<p>To get started with bitcoin, you generate your own <strong>private key</strong> and <strong>public key</strong>.
 Your private key is just a very large random number, and your public
key is calculated from it. These keys can be easily generated on your
computer, or even on something as simple as a calculator. Most people
use a bitcoin wallet to help generate and manage their keys.</p>
<p>To receive bitcoins, you would need to give your <em>public key</em> to someone who wants to send you some. This person would create a <strong>transaction</strong>
 where they unlock bitcoins that they own, and create a new “safe
deposit box” of bitcoins and put your public key inside the lock.</p>
<p>This transaction is then sent to any <strong>node</strong> on the bitcoin network, where it gets relayed from computer to computer until every node on the network has a copy of the transaction. From here, each node has the opportunity to try and <em>mine</em> the latest transactions they have received on to the blockchain.</p>
<p>This process of <strong>mining</strong> involves a node collecting transactions from its memory pool in to a block, and repeatedly putting that block data through a hash function (with a minor adjustment each time) to try and get a block hash below the target value.</p>
<p>The first miner to find a block hash below the target will add the block to their <strong>blockchain</strong>,
 and broadcast this block to the other nodes on the network. Each node
will also add this block to their blockchain (removing any conflicting
transactions from their memory pool), and restart the mining process to
try and build on top of this new block in the chain.</p>
<p>Lastly, the miner who mined this block will have placed their own special transaction inside the block, which allows them to collect a set amount of bitcoins that did not already exist. This <strong>block reward</strong>
 acts as an incentive for nodes to continue to build the blockchain,
whilst simultaneously distributing new coins across the bitcoin network.</p>
<p><a target='_blank' href='../images/02.7_1_bitcoin_system.png'><img class='clImageThumb' src='../images/02.7_1_bitcoin_system.png'></a><br><br></p>
<h2>Conclusion.</h2>
<p>Bitcoin is a computer program that shares a secure file with other
computers around the world. This secure file is made up of transactions,
 and these transactions use cryptography to allow people to send and
receive digital safe deposit boxes. As a result, this creates an
electronic payment system that can be used by anyone, and runs without a
 central point of control.</p>
<p>The Bitcoin network has been running uninterrupted since its release
in January 2009. In 2019, the Bitcoin network processed over <strong>112 million transactions</strong>, moving a total of <strong>$15,577,763,114,629.34</strong> (15.58 trillion)<sup>2</sup>.</p>
<p>The Bitcoin program itself is also under active development, with over <strong>600</strong> individuals contributing to the code since it’s release<sup>3</sup>.
 This is due to the fact that the software is “open source”, which means
 that anyone can view the code and contribute to improving it.</p>

</div>
</div>
</body>
</html>
